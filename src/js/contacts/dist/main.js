!function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);class r extends React.Component{render(){const{name:e,onClick:t,branches:a,kladr_id:r,mapLink:n}=this.props,s=a?"contacts__city-button contacts__city-button--branch":"contacts__city-button";return React.createElement(React.Fragment,null,React.createElement("button",{className:s,onClick:e=>t((e=>a?{branches:a,mapLink:n}:{evt:e,kladr_id:r})(e))},e))}}var n=r;class s extends React.Component{render(){const{kladr_id:e,name:t,branches:a,renderBranch:r,firstLetter:s,onClick:c,mapLink:i}=this.props;return React.createElement("li",{key:e,className:"contacts__item"},s?React.createElement("div",{className:"contacts__item-first-letter"},s):void 0,this.props.branches?React.createElement(n,{name:t,onClick:r,branches:a,mapLink:i}):React.createElement(n,{name:t,onClick:c,kladr_id:e}))}}var c=s;function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class d extends React.Component{constructor(...e){super(...e),i(this,"onBranchClick",e=>{const{target:t}=e,a=$(t).next();let r;e.target.classList.contains("contacts__branch-header--open")&&(r=!0),$(".contacts__branch-body-wrapper").each((function(){$(this).prev().removeClass("contacts__branch-header--open"),$(this).parent().removeClass("contacts__branch--open"),$(this).slideUp()})),r||(this.fancyboxInit(e),a.slideDown(),t.classList.add("contacts__branch-header--open"),t.parentElement.classList.add("contacts__branch--open"))}),i(this,"renderPhotos",e=>e.map(e=>React.createElement("a",{className:"fancybox contacts__branch-photo-wrapper",rel:"gallery1",href:e},React.createElement("img",{src:e,className:"contacts__branch-photo"})))),i(this,"fancyboxInit",e=>{e.preventDefault(),$(".fancybox").fancybox({openEffect:"none",closeEffect:"none"})})}render(){const{name:e,street:t,schedule:a,photos:r,onClick:n,id:s}=this.props;return React.createElement("li",{className:"contacts__branch"},React.createElement("header",{className:"contacts__branch-header",onClick:this.onBranchClick},e),React.createElement("div",{className:"contacts__branch-body-wrapper"},React.createElement("div",{className:"contacts__branch-body"},React.createElement("div",{className:"contacts__branch-info"},React.createElement("div",{className:"contacts__branch-street"},t),React.createElement("div",{className:"contacts__branch-schedule"},a),React.createElement("button",{onClick:n,value:e,"data-id":s,className:"contacts__branch-accept"},"Выбрать")),React.createElement("div",{className:"contacts__branch-photos"},this.renderPhotos(r)))))}}var o=d;class l extends React.Component{constructor(...e){var t,a,r;super(...e),r=e=>e.map(({name:e,street:t,schedule:a,photos:r,id:n})=>{const s={name:e,street:t,schedule:a,photos:r,key:e,onClick:this.props.onBranchClick,id:n};return React.createElement(o,s)}),(a="renderBranch")in(t=this)?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r}render(){const{branches:e,onClick:t,mapLink:a}=this.props;return React.createElement(React.Fragment,null,React.createElement("button",{onClick:t,className:"contacts__back-button"},"Назад"),React.createElement("header",{className:"contacts__branches-wrapper-header"},"Офисы обслуживания BIG1.RU"),React.createElement("ul",{className:"contacts__branches-wrapper"},this.renderBranch(e)),React.createElement("iframe",{src:a,width:"100%",height:"360",frameBorder:"0"}))}}var m=l;class h extends React.Component{render(){const{currentCity:e}=this.props;return React.createElement("header",{className:"contacts__current-region"},React.createElement("span",{className:"contacts__current-region-title"},"Ваш город: "),React.createElement("span",{className:"contacts__current-region-city"},e))}}var p=h;class _ extends React.Component{render(){const{onCityFilter:e}=this.props;return React.createElement("div",{className:"contacts__search-city-wrapper"},React.createElement("input",{type:"text",onInput:e,className:"contacts__search-input",placeholder:"Поиск"}),React.createElement("div",{className:"contacts__search-city-help"},React.createElement("span",{className:"contacts__search-city-icon"}),"— в городе есть офис обслуживания BIG1.RU"))}}var u=_;class k extends React.Component{render(){const{renderCity:e}=this.props,t=e();return React.createElement("ul",{className:"contacts__city-list"},t)}}var f=k;function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class v extends React.Component{constructor(e){var t,a;super(e),b(this,"renderCity",()=>this.state.filteredList.map(({name:e,branches:t,kladr_id:a,firstLetter:r,mapLink:n})=>{const s={name:e,branches:t,kladr_id:a,firstLetter:r,renderBranch:this.renderBranch,onClick:this.onNonBranchClick,mapLink:n};return React.createElement(c,s)})),b(this,"renderBranch",({branches:e,mapLink:t})=>{this.scrollToTop(),this.setState({isRenderedBrunch:!this.state.isRenderedBrunch,branches:e,mapLink:t,filteredList:this.citiesList})}),b(this,"saveCookie",(e,t)=>{const a={path:"/",secure:!0,"max-age":new Date(Date.now()+864e7)};let r=encodeURIComponent(e)+"="+encodeURIComponent(t);for(const e in a){r+="; "+e;const t=a[e];!0!==t&&(r+="="+t)}document.cookie=r}),b(this,"getCookie",e=>{const t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}),b(this,"saveActiveElement",e=>this.setState({activeElement:e})),b(this,"removeActiveElement",()=>this.saveActiveElement("")),b(this,"setActiveElement",e=>{this.saveActiveElement(e),e.classList.add("contacts__city-button--active")}),b(this,"disableActiveElement",()=>{var e;null===(e=this.state.activeElement.classList)||void 0===e||e.remove("contacts__city-button--active"),this.removeActiveElement()}),b(this,"onNonBranchClick",({evt:{target:e},kladr_id:t})=>{const a=()=>(a.setMapKladr=()=>(window.JCShiptorWidgetPvz.setParams({location:{kladr_id:t}}),a),a.refreshMap=()=>(window.JCShiptorWidgetPvz.refresh(),a),a.callMap=()=>(this.map.click(),a),a.removeActiveElement=()=>(this.disableActiveElement(),a),a.setActiveElement=()=>(this.setActiveElement(e),a),a.saveCity=()=>{const t=()=>(t.saveCityName=()=>(this.saveCookie("deliveryAddress",e.textContent),t),t.saveCityId=()=>(this.setCityId("28"),t),t);return t().saveCityName().saveCityId(),a},a.chooseCity=()=>{this.chooseCity(e.textContent)},a);a().setMapKladr().refreshMap().callMap().removeActiveElement().setActiveElement().saveCity().chooseCity()}),b(this,"chooseCity",e=>this.setState({chosenCity:e})),b(this,"filterCityList",({target:e})=>{if(e.value.length<3)return this.setState({filteredList:this.citiesList});const{citiesList:t}=this;return this.setState({filteredList:t.filter(t=>{const a=t.name.toLowerCase();let r=e.value.toLowerCase();return r=r.replace("/ё/g","e"),~a.indexOf(r)})})}),b(this,"scrollToTop",()=>{$("html,body").animate({scrollTop:0},500)}),b(this,"onBranchClick",({target:e})=>{const{value:t}=e;this.setCityId(e.dataset.id),this.saveCookie("deliveryAddress",t),this.renderBranch([]),this.chooseCity(t),this.disableActiveElement(),location.reload()}),b(this,"setCityId",e=>this.saveCookie("region_id",e)),this.citiesList=[{name:"Абакан",kladr_id:"19000001000",firstLetter:"А"},{name:"Альметьевск",kladr_id:"16008001000"},{name:"Анадырь",kladr_id:"87000001000"},{name:"Архангельск",kladr_id:"29000001000"},{name:"Астрахань",kladr_id:"30000001000"},{name:"Барнаул",kladr_id:"22000001000",firstLetter:"Б"},{name:"Белгород",kladr_id:"31000001000"},{name:"Биробиджан",kladr_id:"79000001000"},{name:"Благовещенск",kladr_id:"28000001000"},{name:"Братск",kladr_id:"38000005000"},{name:"Брянск",kladr_id:"32000001000"},{name:"Бугульма",kladr_id:"16014001000"},{name:"Бузулук",kladr_id:"56000006000",branches:[{name:"г. Бузулук, ул. Дорожная, 35",street:"ул. Дорожная, 35",schedule:"ПН-ПТ: 9:00 - 18:00",photos:["https://picsum.photos/800/800","https://picsum.photos/800/800"],id:"28"},{name:"г. Бузулук, ул. Дорожная, 35",street:"ул. Дорожная, 35",schedule:"ПН-ПТ: 9:00 - 18:00",photos:["https://picsum.photos/800/800","https://picsum.photos/800/800"],id:"28"},{name:"г. Бузулук, ул. Дорожная, 35",street:"ул. Дорожная, 35",schedule:"ПН-ПТ: 9:00 - 18:00",photos:["https://picsum.photos/800/800","https://picsum.photos/800/800"],id:"28"},{name:"г. Бузулук, ул. Дорожная, 35",street:"ул. Дорожная, 35",schedule:"ПН-ПТ: 9:00 - 18:00",photos:["https://picsum.photos/800/800","https://picsum.photos/800/800"],id:"28"},{name:"г. Бузулук, ул. Дорожная, 35",street:"ул. Дорожная, 35",schedule:"ПН-ПТ: 9:00 - 18:00",photos:["https://picsum.photos/800/800","https://picsum.photos/800/800"],id:"28"}],mapLink:"https://yandex.ru/map-widget/v1/?um=constructor%3A9a0521a20ec9ea1315277cdb881c07a8ac38e1dbe49164611a0d8cca3276111f&amp;source=constructor"},{name:"Великий Новгород",kladr_id:"53000001000",firstLetter:"В"},{name:"Владивосток",kladr_id:"25000001000"},{name:"Владикавказ",kladr_id:"15000001000"},{name:"Владимир",kladr_id:"33000001000"},{name:"Волгоград",kladr_id:"34000001000"},{name:"Волгодонск",kladr_id:"61000004000"},{name:"Вологда",kladr_id:"35000001000"},{name:"Воронеж",kladr_id:"36000001000"},{name:"Горно-Алтайск",kladr_id:"04000001000",firstLetter:"Г"},{name:"Грозный",kladr_id:"20000001000"},{name:"Дзержинск",kladr_id:"52000002000",firstLetter:"Д"},{name:"Дятьково",kladr_id:"32006001000"},{name:"Екатеринбург",kladr_id:"66000001000",branches:[{name:"г. Екатеринбург, Железнодорожный район (Старая сортировка), ул.Билимбаевская, д.4",street:"Железнодорожный район (Старая сортировка), ул.Билимбаевская, д.4",schedule:"ПН-ПТ: 9:00 - 18:00",photos:["https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800"],id:"37"}],mapLink:"https://yandex.ru/map-widget/v1/?um=constructor%3A35a1946a7b5be2a472fcbf066fd1289306b9a854cf69f165806d9d034c79f1ee&amp;source=constructor",firstLetter:"Е"},{name:"Елабуга",kladr_id:"16019001000"},{name:"Златоуст",kladr_id:"74000004000",firstLetter:"З"},{name:"Иваново",kladr_id:"37000001000",firstLetter:"И"},{name:"Ижевск",kladr_id:"18000001000"},{name:"Иркутск",kladr_id:"38000003000"},{name:"Йошкар-Ола",kladr_id:"12000001000",firstLetter:"Й"},{name:"Казань",kladr_id:"16000001000",firstLetter:"К"},{name:"Калининград",kladr_id:"39000001000"},{name:"Калуга",kladr_id:"40000001000"},{name:"Кемерово",kladr_id:"42000009000"},{name:"Киров",kladr_id:"43000004000"},{name:"Кострома",kladr_id:"44000003000"},{name:"Краснодар",kladr_id:"23000001000"},{name:"Красноярск",kladr_id:"24000001000"},{name:"Курган",kladr_id:"45000001000"},{name:"Курск",kladr_id:"46000001000"},{name:"Кызыл",kladr_id:"17000001000"},{name:"Липецк",kladr_id:"48000001000",firstLetter:"Л"},{name:"Магадан",kladr_id:"49000001000",firstLetter:"М"},{name:"Магас",kladr_id:"06000001000"},{name:"Магнитогорск",kladr_id:"74000009000"},{name:"Майкоп",kladr_id:"01000001000"},{name:"Мамадыш",kladr_id:"16021000057"},{name:"Махачкала",kladr_id:"05000001000"},{name:"Москва",kladr_id:"77000000000"},{name:"Мурманск",kladr_id:"51000001000"},{name:"Набережные Челны",kladr_id:"16000002000",firstLetter:"Н"},{name:"Нальчик",kladr_id:"07000001000"},{name:"Нарьян-Мар",kladr_id:"83000001000"},{name:"Нижний Новгород",kladr_id:"52000001000"},{name:"Новокузнецк",kladr_id:"42000012000"},{name:"Новосибирск",kladr_id:"54000001000"},{name:"Омск",kladr_id:"55000001000",firstLetter:"О"},{name:"Оренбург",kladr_id:"56000001000"},{name:"Орёл",kladr_id:"57000001000"},{name:"Пенза",kladr_id:"58000001000",firstLetter:"П"},{name:"Пермь",kladr_id:"59000001000"},{name:"Петрозаводск",kladr_id:"10000001000"},{name:"Петропавловск-Камчатский",kladr_id:"41000001000"},{name:"Псков",kladr_id:"60000001000"},{name:"Раменское",kladr_id:"24032000028",firstLetter:"Р"},{name:"Ростов-на-Дону",kladr_id:"61000001000"},{name:"Рязань",kladr_id:"62000001000"},{name:"Салехард",kladr_id:"89000001000",firstLetter:"С"},{name:"Самара",kladr_id:"63000001000"},{name:"Санкт-Петербург",kladr_id:"78000000000"},{name:"Саранск",kladr_id:"13000001000"},{name:"Саратов",kladr_id:"64000001000"},{name:"Сафоново",kladr_id:"44024000153"},{name:"Симферополь",kladr_id:"91000007000"},{name:"Смоленск",kladr_id:"67000003000"},{name:"Ставрополь",kladr_id:"26000001000"},{name:"Сыктывкар",kladr_id:"11000001000"},{name:"Таганрог",kladr_id:"61000011000",firstLetter:"Т"},{name:"Тамбов",kladr_id:"68000004000"},{name:"Тверь",kladr_id:"69000001000"},{name:"Томск",kladr_id:"70000001000"},{name:"Тула",kladr_id:"71000001000"},{name:"Тюмень",kladr_id:"72000001000"},{name:"Улан-Удэ",kladr_id:"03000001000",firstLetter:"У"},{name:"Ульяновск",kladr_id:"73000001000"},{name:"Уфа",kladr_id:"02000001000"},{name:"Фряново",kladr_id:"50040000098",firstLetter:"Ф"},{name:"Хабаровск",kladr_id:"27000001000",firstLetter:"Х"},{name:"Ханты-Мансийск",kladr_id:"86000001000"},{name:"Чебоксары",kladr_id:"21000001000",firstLetter:"Ч"},{name:"Челябинск",kladr_id:"74000001000"},{name:"Черкесск",kladr_id:"09000001000"},{name:"Чехов",kladr_id:"50000053000"},{name:"Чита",kladr_id:"75000001000"},{name:"Шебекино",kladr_id:"31000003000",firstLetter:"Ш"},{name:"Щелково",kladr_id:"69015000184",firstLetter:"Щ"},{name:"Элиста",kladr_id:"08000001000",firstLetter:"Э"},{name:"Южно-Сахалинск",kladr_id:"65000001000",firstLetter:"Ю"},{name:"Якутск",kladr_id:"14000001000",firstLetter:"Я"},{name:"Ярославль",kladr_id:"76000001000",branches:[{name:"Ярославль, ул. Полушкина роща 16Л",street:"ул. Полушкина роща 16Л",schedule:"ПН-ПТ: 9:00 - 18:00",photos:["https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800"],id:"28"},{name:"Ярославль, ул. Урицкого 47а",street:"ул. Урицкого 47а",schedule:"ПН-ПТ: 9:00 - 18:00",photos:["https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800","https://picsum.photos/800/800"],id:"41"}],mapLink:"https://yandex.ru/map-widget/v1/?um=constructor%3Aacbcb9cd59b569b50fcb7ed84cbe0a579a8f551b4d992fbdb6781efd00c0c49e&amp;source=constructor"},{name:"Ярцево",kladr_id:"67025000116"}],this.map=document.querySelector(".contactMap__call-map"),this.state={isRenderedBranch:!1,branches:"",chosenCity:this.getCookie("deliveryAddress")||(null===(t=YMaps)||void 0===t?void 0:null===(a=t.location)||void 0===a?void 0:a.city)||"",filteredList:this.citiesList,activeElement:""}}render(){const{isRenderedBrunch:e,branches:t,chosenCity:a,mapLink:r}=this.state,{filterCityList:n,onBranchClick:s,renderCity:c}=this;return React.createElement("div",{className:"contacts"},React.createElement(p,{currentCity:a}),e?React.createElement(m,{branches:t,onClick:this.renderBranch,onBranchClick:s,mapLink:r}):React.createElement(React.Fragment,null,React.createElement(u,{onCityFilter:n}),React.createElement(f,{renderCity:c})))}}var y=v,C=class extends React.Component{render(){return React.createElement(y,null)}};ReactDOM.render(React.createElement(C,null),document.querySelector("#root"))}]);