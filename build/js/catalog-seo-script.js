"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a,o=0;o<e.length;o++)(a=e[o]).enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}!function(){function r(t){return!!t}function s(t){return!!t[0]}function n(){var t=document.querySelector(".tabn:not(.hidden) .cloned-lax-list").dataset.catalogType;u.init(t)}function l(t,e,a){return t[e]=a}function c(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],e=$(".laximo-in-laxTecdoc"),a=$(".td-model");return t?void a.css("min-height","600px"):void(e.innerHeight()-200<600||a.attr("style","min-height: ".concat(e.innerHeight()-200,"px")))}function p(t){var e=r(t[0].value),a=$("<div>",{class:"laximo-div-selectors-wrapper"});$(t).each(function(){$("<div>",{text:$(this).text(),class:e?"laximo-div-selector":"laximo-div-selector--no-hover","data-id":$(this).val()}).appendTo(a)});var o=$("#js-laximo-wizard-options .lx-b-sel-tm");if(s(o)){if(e)m(o);else{var i=[$(".laximo-div-selectors-wrapper"),$(".laximo-div-desctipion")];m(i)}o[0].prepend(a[0]),function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=$(".lx-vin-search-module .js-laximo-wizard-select"),a=$(".lx-wrap-ss"),o=$("#js-laximo-wizard-options .lx-b-sel-tm"),i=$(".lx-wrap-btn-sm"),r=$("<label>",{text:"Выберите модификацию",class:"laximo-div-desctipion"});t&&(e.remove(),i.remove(),a.remove()),o[0].prepend(r[0])}(e)}}var d,t,u=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"init",value:function(t){if(t){var e=t.split(" ");return this.get_wizard(e)}}},{key:"get_wizard",value:function(t){var e,a,o;return e=t[0],a="no"===t[1]?"":t[1],o="no"===t[2]?"":t[2],void 0===window.location.href.split("/")[4]?$.get("laximo/".concat(e,"/wizard?key=").concat(a,"&wizard_id=").concat(o)):$.get("https://big1.ru/laximo/".concat(e,"/wizard?key=").concat(a,"&wizard_id=").concat(o))}}]),t}()),m=function(t){Array.isArray(t)?$(t).each(function(){$(this).remove()}):$(t).html("")},i=(d={},function(t){t=t.toLowerCase();var e=function(t,e){return t[e]}(d,t);if(r(e)){if(Array.isArray(e))return void p(e);if("not-found"===e)return n(),void setTimeout(function(){p([$("<option>",{text:"В автоматическом режиме модификацию найти не удалось. Попробуйте самостоятельно.",value:""})])},1500);u.init(d[t])}else{var a=document.querySelectorAll(".tabn:not(.hidden) .cloned-lax-list option"),o=function(){var o=[];return function(a,t){return _toConsumableArray(t).forEach(function(t){if(a=a.toLowerCase(),~t.textContent.toLowerCase().indexOf(a)){var e=t.cloneNode(!0);o.push(e)}}),o}}()(t,a),i=o.length;switch(!0){case 0===i:l(d,t,"not-found"),n(),setTimeout(function(){p([$("<option>",{text:"В автоматическом режиме модификацию найти не удалось. Попробуйте самостоятельно.",value:""})])},1500);break;case 1<i:l(d,t,o),p(o);break;default:l(d,t,o[0].value),u.init(o[0].value)}}});function e(t){t.preventDefault(),function(){t.originalEvent.stopPropagation();var o=$(".td-model");t.originalEvent.target.classList.contains("tecdoc-cars-btns-wrapper__catalog-btn--second")?function(){var t=$(".chat_2j"),e=$(".menuWrap_2V");if(s(t)&&t[0].click(),s(e)){$(".container_3P").css({display:"block",opacity:"1",top:"25px","z-index":"12312313"}),$(".wrap_2g").addClass("_show_10"),e.css({position:"fixed",bottom:"0",left:"0"});var a=function(){$(".container_3P").css({display:"none",opacity:"0"}),document.removeEventListener("touchstart",a)};document.addEventListener("touchstart",a)}o.css({background:"url(/images/another-images/seo-catalogs/seo-catalogs-girl-bg-4.png) no-repeat right top"})}():function(){var t=$(".laximo-in-laxTecdoc");if(s(t)&&"none"!==t[0].style.display)return t.slideUp(500),c(!0),$("#js-laximo-wizard-options").slideUp(),$(".laximo").slideUp(),$("#js-laximo-chassis-options").slideUp(),$(".temp-lax-open-btn").css("display","flex");c(),t.slideDown(500),function(){var t=$(".b-content")[0].offsetTop-10;$("html").animate({scrollTop:t},500),setTimeout(function(){$(".fast-menu-tabs__ul-first-level").removeAttr("style"),$(".b-bot-side").removeAttr("style")},500)}(),o.css({background:"url(/images/another-images/seo-catalogs/seo-catalogs-girl-bg-3.png) no-repeat right top"})}()}()}function g(){var t=document.querySelector(".td-model").querySelectorAll("li"),e=document.querySelectorAll(".car-chooser-list-tecdoc__point");_toConsumableArray(t).forEach(function(t){return t.style.display="none"}),_toConsumableArray(e).forEach(function(t){return t.classList.remove("active")})}function a(e){if(r(e.classList.contains("car-chooser-list-tecdoc__point"))){var t=document.querySelectorAll(".car-chooser-list-tecdoc__point"),a=$(".td-model"),o=$(".laximo-in-laxTecdoc");g(),a.css({background:"url(/images/another-images/seo-catalogs/seo-catalogs-girl-bg-1.png) no-repeat right top"}),o.slideUp(500),$("#js-laximo-wizard-options").slideUp(),$(".laximo").slideUp(),$("#js-laximo-chassis-options").slideUp(),$(".temp-lax-open-btn").css("display","flex"),_toConsumableArray(t).forEach(function(t){"1"===t.dataset.status?t.dataset.status="0":"0"===t.dataset.status&&t===e&&(a.css({background:"url(/images/another-images/seo-catalogs/seo-catalogs-girl-bg-2.png) no-repeat right top"}),e.dataset.status="1",t.classList.toggle("active"),function(e){var t=document.querySelector(".td-model").querySelectorAll("li");e=e.toUpperCase().replace("-","").replace(" ",""),_toConsumableArray(t).map(function(t){t.style.display=~t.dataset.name.indexOf(e)?"block":"none"})}(e.textContent),i(e.textContent))})}}$(document).ready(function(){(new LaximoWizard).init()}),t=document.querySelector(".car-type-toggler__checkbox"),r(t)&&(t.checked=!1),function(){if(s($(".lx-b-lax-container select"))){var t=$("<em>",{text:"или"}),e=$("<div>",{class:"lx-sel-or"});e.append(t),$(".lx-vin-search-module").each(function(){$(this).find(".lx-sel-or")?$(this).find(".lx-sel-or").css("display","block"):$(this).find(".lx-b-search-container").after(e)});var a=$("<div>",{class:"temp-lax-open-btn lx-btn-sm",text:"Подобрать по параметрам",css:{display:"flex",justifyContent:"center",alignItems:"center"}});$(".lx-vin-search-module").append(a),$("#js-laximo-wizard-options").slideUp(),$(".laximo").slideUp(),$("#js-laximo-chassis-options").slideUp()}}(),$(document).on("DOMContentLoaded",function(){function o(e,a){_toConsumableArray(document.images).forEach(function(t){t.src===e&&t.setAttribute("style",a)})}_toConsumableArray($(".td-model")[0].querySelectorAll("li")).map(function(t){t.querySelector("img").removeAttribute("style")}),[{src:["https://api.parts-soft.ru/system/car_base_model/default.gif"],style:"margin-top: 0 !important"},{src:["https://api.parts-soft.ru/system/car_base_model/3093/575_23_original_original.jpg"],style:"margin-top: 30px !important"},{src:["https://api.parts-soft.ru/system/car_base_model/3630/587_3439_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/3612/587_500_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/3611/587_488_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/1079/525_3388_original_original.jpg"],style:"margin-top: -20px !important"},{src:["https://api.parts-soft.ru/system/car_base_model/3676/587_440_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/3672/587_436_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/3595/587_3943_original_original.jpg"],style:"margin-top: -14px !important"},{src:["https://api.parts-soft.ru/system/car_base_model/3703/587_1629_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/3701/587_3889_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/1215/525_2022_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/1231/517_4180_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/2103/553_3909_original_original.jpg"],style:"margin-top: -10px !important"},{src:["https://api.parts-soft.ru/system/car_base_model/5509/13_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/5466/16_original_original.jpg"],style:"margin-top: -30px !important"},{src:["https://api.parts-soft.ru/system/car_base_model/1078/525_3449_original_original.jpg"],style:"margin-top: -79px !important"},{src:["https://api.parts-soft.ru/system/car_base_model/4723/9_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/5515/6_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/5474/15_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/5472/14_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/5471/19_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/5477/12_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/5470/9_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/5469/18_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/5467/17_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/5508/10_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/5465/20_original_original.jpg"],style:"margin-top: -44px !important"},{src:["https://api.parts-soft.ru/system/car_base_model/5514/5_original_original.jpg","https://api.parts-soft.ru/system/car_base_model/5476/11_original_original.jpg"],style:"margin-top: -48px !important"}].forEach(function(t){var e=t.src,a=t.style;Array.isArray(e)?e.forEach(function(t){o(t,a)}):o(e,a)})}),$(".car-type-toggler").on("change",function(){(function(){try{var t=document.querySelectorAll(".tabn"),e=!0,a=!1,o=void 0;try{for(var i,r=t[Symbol.iterator]();!(e=(i=r.next()).done);e=!0)i.value.classList.toggle("hidden")}catch(t){a=!0,o=t}finally{try{e||null==r.return||r.return()}finally{if(a)throw o}}}catch(t){console.log(t.message)}})(),g()}),$(document).on("click",function(t){var e,a,o,i;e=$(".tecdoc-cars-btns-wrapper__catalog-btn"),a=$(".tecdoc-cars-btns-wrapper__catalog-btn--second"),o=$(".tecdoc-cars-btns-wrapper"),e.text("Каталоги"),a.text("Помощь"),e.hasClass("activated")&&!t.originalEvent.target.classList.contains("model-item")&&(t.stopImmediatePropagation(),e.removeClass("activated"),o.css({top:"195px",margin:"10px 0 0 0",transition:"top 1s ease"}),e.css({"font-size":"14px","font-weight":"400","align-items":"unset","font-family":"inherit"}),e.text("Каталоги"),a.text("Помощь")),t.originalEvent.target.classList.contains("laximo-div-selector")&&u.init(t.originalEvent.target.dataset.id),i=$(".temp-lax-open-btn"),t.target===i[0]&&(i.css("display","none"),$("#js-laximo-wizard-options").slideDown(),$(".laximo").slideDown(),$("#js-laximo-chassis-options").slideDown(),c())}),$(".model-item").on("click",function(o){!function(){o.stopImmediatePropagation();var t=$(o.currentTarget).find(".tecdoc-cars-btns-wrapper__catalog-btn"),e=$(o.currentTarget).find(".tecdoc-cars-btns-wrapper__catalog-btn--second"),a=$(o.currentTarget).find(".tecdoc-cars-btns-wrapper");t.hasClass("activated")||($(o.originalEvent.target).css({position:"relative"}),a.css({top:"0",margin:"0",transition:"top 1s ease","align-items":"center"}),t.css({display:"flex","align-items":"center","justify-content":"center","font-size":"18px","font-weight":"700","font-family":"MyriadPro"}),t.text("Каталог запчастей"),e.text("Задать вопрос специалисту"),t.addClass("activated"))}()}),$(".tecdoc-cars-btns-wrapper__catalog-btn").on("click",e),$(".VIN-search-button").on("click",function(){var t,e;t=$(".VIN-search-button"),"none"===(e=$(".lx-b-search-container"))[0].style.display?(t.hide(),e.slideDown()):(t.show(),e.slideUp())}),$(".lx-b-lax-col-close").on("click",e),$(document).on("click",function(t){return a(t.target)}),$(document).on("keydown",function(t){return 27===t.originalEvent.keyCode?g():void 0})}();