"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}}$(document).on("DOMContentLoaded",function(){function o(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];$("#js-laximo-chassis-options, #js-laximo-wizard-options, .laximo").each(function(){t?$(this).slideDown(d):$(this).css("display","none")})}function a(t){Array.isArray(t)?$(t).each(function(){$(this).remove()}):$(t).html("")}function c(t){var e=p(t[0].value),n=$("<div>",{class:"laximo-div-selectors-wrapper"}),o=$("<div>",{class:"lx-b-sel-tm"});$(t).each(function(){$("<div>",{text:$(this).text(),class:e?"laximo-div-selector":"laximo-div-selector--no-hover","data-id":$(this).val()}).appendTo(n)});var r=$("#js-laximo-wizard-options");if(m(r)){if(e)a(r);else{var i=[$(".laximo-div-selectors-wrapper"),$(".laximo-div-desctipion")];a(i)}o.append(n),r.prepend(o),function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=$(".lx-vin-search-module .js-laximo-wizard-select"),n=$(".lx-wrap-ss"),o=$("#js-laximo-wizard-options .lx-b-sel-tm"),r=$(".lx-wrap-btn-sm"),i=$("<label>",{text:"Выберите модификацию",class:"laximo-div-desctipion"});t&&(e.remove(),r.remove(),n.remove()),o.prepend(i)}(e)}}function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"open",e=$(".laximo-in-laxTecdoc");m(e)&&(i="none"!==e.css("display")&&"close"===t?(e.slideUp(d),"closed"):(function(){var e={},n=function(){o(!0);var t=$(".options-wrapper");t.slideUp(),setTimeout(x,f),t.off("click",n),t.remove()};(function(){e=$("<div>",{text:"Подбор по параметрам",class:"options-wrapper"});var t=$(".lx-sel-or").first();"block"===$(".options-wrapper").css("display")||t.after(e)})(),o(!1),e.on("click",n)}(),e.slideDown(d),"opened"),setTimeout(function(){return x(i)},f))}function t(t){g(t.currentTarget.querySelector(".cars-catalog__name").textContent),e(),function(t){if("closed"!==t){var e=$(".b-content")[0].offsetTop-10;$("html").animate({scrollTop:e},500),setTimeout(function(){$(".fast-menu-tabs__ul-first-level").removeAttr("style"),$(".b-bot-side").removeAttr("style")},500)}}(i)}function l(){var t=".text__template--".concat(u),e=h(function(){return document.querySelector(t).content.querySelector(".cloned-lax-list").dataset.catalogType},function(){return document.querySelector(t).querySelector(".cloned-lax-list").dataset.catalogType});_.init(e)}function n(o){o.originalEvent.target.classList.contains("laximo-div-selector")&&(_.init(o.originalEvent.target.dataset.id),setTimeout(x,f)),function(){if(o.target.classList.contains("lx-wrap-btn-sm--help-btn")){var t=$(".chat_2j"),e=$(".menuWrap_2V");if(m(t)&&t[0].click(),m(e)){$(".container_3P").css({display:"block",opacity:"1",top:"25px","z-index":"12312313"}),$(".wrap_2g").addClass("_show_10"),e.css({position:"fixed",bottom:"0",left:"0"});var n=function(){$(".container_3P").css({display:"none",opacity:"0"}),document.removeEventListener("touchstart",n)};document.addEventListener("touchstart",n)}}}()}function r(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];_toConsumableArray(document.querySelectorAll(".cars-catalog__list")).forEach(function(t){return t.classList.add("hidden")}),function(){try{t&&(u="car"===u?"truck":"car"),document.querySelector(".cars-catalog__list--".concat(u)).classList.remove("hidden")}catch(t){console.log(t.message)}}()}var s,i="closed",u=window.type,d=500,f=501,p=function(t){return!!t},m=function(t){return!!t[0]},v=function(t,e,n){t[e]=n},y=function(t,e){t[e]},h=function(t,e){try{return t()}catch(t){return e()}},x=function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],e=$(".laximo-in-laxTecdoc"),n=$(".cars-catalog");return"string"==typeof t&&(t="closed"==t),t?void n.css("min-height","unset"):void n.attr("style","min-height: ".concat(e.innerHeight()-200,"px"))},_=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"init",value:function(t){if(t){var e=t.split(" ");return this.get_wizard(e)}}},{key:"get_wizard",value:function(t){var e,n,o;return e=t[0],n="no"===t[1]?"":t[1],o="no"===t[2]?"":t[2],void 0===window.location.href.split("/")[4]?$.get("laximo/".concat(e,"/wizard?key=").concat(n,"&wizard_id=").concat(o)):$.get("https://big1.ru/laximo/".concat(e,"/wizard?key=").concat(n,"&wizard_id=").concat(o))}}]),t}()),g=(s={},function(t){t=t.toLowerCase();var e=y(s,t);if(p(e)){if(Array.isArray(e))return void c(e);if("not-found"===e)return l(),void setTimeout(function(){c([$("<option>",{text:"В автоматическом режиме модификацию найти не удалось. Попробуйте самостоятельно.",value:""})])},1500);_.init(s[t])}else{var n=".text__template--".concat(u),o=h(function(){return document.querySelector(n).content.querySelectorAll(".cloned-lax-list option")},function(){return document.querySelector(n).querySelectorAll(".cloned-lax-list option")}),r=function(){var o=[];return function(n,t){if("другие модели"!==n)return _toConsumableArray(t).forEach(function(t){if(n=n.toLowerCase(),~t.textContent.toLowerCase().indexOf(n)){var e=t.cloneNode(!0);o.push(e)}}),o;var e=h(function(){return document.querySelector(".text__template--".concat(u)).content.querySelector("section").dataset.catalogType},function(){return document.querySelector(".text__template--".concat(u)).querySelector("section").dataset.catalogType});return $("<option>",{value:e})}}()(t,o),i=r.length;switch(!0){case 0===i:v(s,t,"not-found"),l(),setTimeout(function(){c([$("<option>",{text:"В автоматическом режиме модификацию найти не удалось. Попробуйте самостоятельно.",value:""})])},1500);break;case 1<i:v(s,t,r),c(r);break;default:v(s,t,r[0].value),_.init(r[0].value)}}});r(!1),$(document).ready(function(){(new LaximoWizard).init()}),$(".cars-catalog__item").on("click",t),$(".lx-b-lax-col-close").on("click",function(){return e("close")}),$(document).on("click",n),$(".car-type-toggler__checkbox").on("change",r)});